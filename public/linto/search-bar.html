<dom-module id="search-bar">

    <style>
    :host {
        display: none;
    }
    
    :host([active]) {
        display: block;
    }
    
    paper-toolbar {
        --paper-toolbar-background: white;
        --paper-toolbar-color: black;
    }
    
    input {
        background: transparent;
        border: none;
        font-size: 20px;
    }
    </style>

    <template>
        <paper-header-panel class="fit" style="background: rgba(238, 238, 238, 0.75);">
            <paper-toolbar>
                <paper-icon-button icon="arrow-back" on-tap="toggle"></paper-icon-button>
                <input class="flex" on-keyup="doSearch" placeholder="search .." value="{{searchInput}}">
                <paper-icon-button icon="filter-list"></paper-icon-button>
            </paper-toolbar>
            <div class="center-justified horizontal layout">
                <div class="li">
                    <div class="bordered center cursor-d etc" style="padding: 16px;">what happened ? long keyword .. | what happened ? long keyword ..</div>
                    <iron-selector on-iron-activate="onSelect">
                        <template is="dom-repeat" items="[[list]]">
                            <paper-icon-item class="bg-white bordered cursor-p hover relative" data-keyword$="[[item.keyword]]">
                                <div item-icon>
                                    <selectable-icon icon_class="red-500" icon_text="A"></selectable-icon>
                                </div>
                                <paper-item-body two-line>
                                    <div class="lowercase">[[item.keyword]]</div>
                                    <div secondary>patent count - <span>[[item.count]]</span></div>
                                </paper-item-body>
                                <paper-ripple></paper-ripple>
                            </paper-icon-item>
                        </template>
                    </iron-selector>
                </div>
            </div>
        </paper-header-panel>
    </template>

    <script>
    Polymer({

        onSelect: function(e, d) {
            console.log(d.item.dataset.keyword);
        },

        is: "search-bar",

        properties: {
            active: {
                notify: true,
                reflectToAttribute: true,
                type: Boolean,
                value: false
            },

            list: {
                type: Array,
                value: function() {
                    return [{
                        count: "8H",
                        keyword: "normal keyword"
                    }, {
                        count: "8",
                        keyword: "what happened ? long keyword .."
                    }];
                }
            },
        },

        ready: function() {},

        toggle: function() {
            this.active = false;
        }

    });
    </script>

</dom-module>
